{"version":3,"file":"draggify.min.js","sources":["../src/index.ts"],"sourcesContent":["export function useDrag(target: PIXI.Container) {\n    let isMoving = false\n    let startLocal: any\n    target.interactive = true\n    target.on('touchstart', (e: any) => {\n        isMoving = true\n        startLocal = target.toLocal(e.data.global)\n    })\n    target.on('touchmove', (e: any) => {\n        if (!isMoving) return\n        const position = target.parent?.toLocal(e.data.global)\n        if (position) {\n            target.x = position.x - startLocal.x * target.scale.x\n            target.y = position.y - startLocal.y * target.scale.y\n            // fix pivot offset\n            fix(target)\n        }\n    })\n    target.on('touchend', () => {\n        isMoving = false\n    })\n}\n\nexport default function draggify({ Container }: any) {\n    Container.prototype.draggify = function() {\n        useDrag(this)\n    }\n}\n\nfunction fix(target: any) {\n    target.x += target.pivot.x * target.scale.x\n    target.y += target.pivot.y * target.scale.y\n    if (target.anchor) {\n        target.x += target.width * target.anchor.x\n        target.y += target.height * target.anchor.y\n    }\n}\n"],"names":["useDrag","target","startLocal","isMoving","interactive","on","e","toLocal","data","global","position","parent","x","scale","y","fix","pivot","anchor","width","height","_a","Container","prototype","draggify"],"mappings":"gNAAgBA,CAAAA,EAAQC,MAEhBC,CAAAA,EADAC,CAAQ,IAEZF,CAAM,CAACG,WAAP,IACAH,CAAM,CAACI,EAAP,CAAU,YAAV,CAAwB,SAACC,CAAD,EACpBH,CAAQ,IACRD,CAAU,CAAGD,CAAM,CAACM,OAAP,CAAeD,CAAC,CAACE,IAAF,CAAOC,MAAtB,CAChB,CAHD,EAIAR,CAAM,CAACI,EAAP,CAAU,WAAV,CAAuB,SAACC,CAAD,QACnB,GAAKH,CAAL,EACA,GAAMO,CAAAA,CAAQ,WAAGT,CAAM,CAACU,6BAAQJ,QAAQD,CAAC,CAACE,IAAF,CAAOC,OAA/C,CACIC,CAFJ,GAGIT,CAAM,CAACW,CAAP,CAAWF,CAAQ,CAACE,CAAT,CAAaV,CAAU,CAACU,CAAX,CAAeX,CAAM,CAACY,KAAP,CAAaD,CAHxD,CAIIX,CAAM,CAACa,CAAP,CAAWJ,CAAQ,CAACI,CAAT,CAAaZ,CAAU,CAACY,CAAX,CAAeb,CAAM,CAACY,KAAP,CAAaC,CAJxD,CAMIC,CAAG,CAACd,CAAD,CANP,EAQH,CATD,EAUAA,CAAM,CAACI,EAAP,CAAU,UAAV,CAAsB,WAClBF,CAAQ,GACX,CAFD,CAGH,CAQD,QAASY,CAAAA,CAAT,CAAad,CAAb,EACIA,CAAM,CAACW,CAAP,EAAYX,CAAM,CAACe,KAAP,CAAaJ,CAAb,CAAiBX,CAAM,CAACY,KAAP,CAAaD,EAC1CX,CAAM,CAACa,CAAP,EAAYb,CAAM,CAACe,KAAP,CAAaF,CAAb,CAAiBb,CAAM,CAACY,KAAP,CAAaC,EACtCb,CAAM,CAACgB,SACPhB,CAAM,CAACW,CAAP,EAAYX,CAAM,CAACiB,KAAP,CAAejB,CAAM,CAACgB,MAAP,CAAcL,EACzCX,CAAM,CAACa,CAAP,EAAYb,CAAM,CAACkB,MAAP,CAAgBlB,CAAM,CAACgB,MAAP,CAAcH,EAEjD,oBAbgCM,MAAEC,CAAAA,cAC/BA,CAAS,CAACC,SAAV,CAAoBC,QAApB,CAA+B,WAC3BvB,CAAO,CAAC,IAAD,CACV,CACJ"}