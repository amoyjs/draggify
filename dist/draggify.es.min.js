import Event from"eventemitter3";var event=new Event;function useDrag(a){var b,c=!1;a.interactive=!0,a.on("touchstart",function(d){c=!0,b=a.toLocal(d.data.global)}),a.on("touchmove",function(d){var e;if(c){var f=null===(e=a.parent)||void 0===e?void 0:e.toLocal(d.data.global);f&&(a.x=f.x-b.x*a.scale.x,a.y=f.y-b.y*a.scale.y,fix(a))}}),a.on("touchend",function(a){c=!1,event.emit("drop",a)})}function useDrop(a){a.interactive=!0,event.on("drop",function(b){var c=b.data.global,d=a.parent.toGlobal(a.position),e=c.x>d.x&&c.x<d.x+a.width,f=c.y>d.y&&c.y<d.y+a.height;e&&f&&a.emit("drop",b)})}function draggify(a){var b=a.Container;b.prototype.draggify=function(){useDrag(this)},b.prototype.droppify=function(){useDrop(this)}}function fix(a){a.x+=a.pivot.x*a.scale.x,a.y+=a.pivot.y*a.scale.y,a.anchor&&(a.x+=a.width*a.anchor.x,a.y+=a.height*a.anchor.y)}export default draggify;export{useDrag,useDrop};
//# sourceMappingURL=draggify.es.min.js.map
